<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Data Scraping & Structure Visualization</title>
    <style>
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f9;
        }

        h1, h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        /* æµç¨‹åœ–æ¨£å¼ */
        .flow-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .step {
            display: inline-block;
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
            padding: 10px 20px;
            border-radius: 8px;
            margin: 5px;
            font-weight: bold;
            position: relative;
            width: 200px;
        }

        .step.start { background-color: #2ecc71; color: white; border-color: #27ae60; }
        .step.process { background-color: #3498db; color: white; border-color: #2980b9; }
        .step.save { background-color: #e74c3c; color: white; border-color: #c0392b; }
        
        .arrow {
            font-size: 24px;
            color: #7f8c8d;
            margin: 5px 0;
            display: block;
        }

        .split-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 10px 0;
        }

        .branch {
            border: 1px dashed #bdc3c7;
            padding: 15px;
            border-radius: 8px;
            background-color: #fdfdfd;
        }

        /* è³‡æ–™çµæ§‹æ¨£å¼ */
        .structure-section {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            flex-wrap: wrap;
        }

        .table-card {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-width: 300px;
        }

        .table-header {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 5px;
            color: white;
            border-radius: 4px;
            text-align: center;
        }

        .header-games { background-color: #3498db; }
        .header-shots { background-color: #e67e22; }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        .key-column {
            background-color: #fff3cd;
            font-weight: bold;
            color: #d35400;
        }

        .relation-note {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            color: #7f8c8d;
            font-style: italic;
        }

        .badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            color: white;
        }
        .b-seq { background-color: #3498db; }
        .b-vis { background-color: #e67e22; }

    </style>
</head>
<body>

    <h1>ğŸ€ NBA è³‡æ–™çˆ¬å–æµç¨‹èˆ‡çµæ§‹èªªæ˜</h1>
    <p>æœ¬æ–‡ä»¶å±•ç¤ºäº† Transformer + CNN æ¨¡å‹æ‰€éœ€çš„è³‡æ–™å¦‚ä½•å¾ API ç²å–ä¸¦å„²å­˜ç‚ºé—œè¯å¼çµæ§‹ã€‚</p>

    <h2>1. è³‡æ–™çˆ¬å–æµç¨‹åœ– (Data Pipeline)</h2>
    <div class="flow-section">
        <div class="step start">é–‹å§‹ (Start)</div>
        <div class="arrow">â¬‡</div>
        <div class="step">å–å¾—çƒå“¡æ¸…å–®<br><small>(Top 150 Scorers)</small></div>
        <div class="arrow">â¬‡</div>
        <div class="step process">è¿´åœˆ: æ¯å€‹çƒå“¡ + æ¯å€‹è³½å­£</div>
        <div class="arrow">â¬‡</div>
        
        <div class="split-container">
            <div class="branch">
                <div class="badge b-seq">æ•¸å€¼æµ (Transformer)</div>
                <div class="arrow">â¬‡</div>
                <div class="step">å‘¼å« PlayerGameLog</div>
                <div class="arrow">â¬‡</div>
                <div class="step">æå–: PTS, REB, AST</div>
                <div class="arrow">â¬‡</div>
                <div class="step">å»ºç«‹ Label: Target_PTS</div>
            </div>

            <div class="branch">
                <div class="badge b-vis">è¦–è¦ºæµ (CNN)</div>
                <div class="arrow">â¬‡</div>
                <div class="step">å‘¼å« ShotChartDetail</div>
                <div class="arrow">â¬‡</div>
                <div class="step">æå–: LOC_X, LOC_Y</div>
                <div class="arrow">â¬‡</div>
                <div class="step">ä¿ç•™åŸå§‹åº§æ¨™ (Raw Data)</div>
            </div>
        </div>

        <div class="arrow">â¬‡</div>
        <div class="split-container">
            <div class="step save">Append to<br>games.csv</div>
            <div class="step save">Append to<br>shots.csv</div>
        </div>
    </div>

    <h2>2. è³‡æ–™çµæ§‹èˆ‡é—œè¯ (Database Schema)</h2>
    <p class="relation-note">ğŸ”— é—œè¯é—œéµå­— (Foreign Key): <span style="background:#fff3cd; padding:2px 5px; border:1px solid #ccc;">Game_ID</span></p>

    <div class="structure-section">
        
        <div class="table-card">
            <div class="table-header header-games">ğŸ“‚ games.csv (ä¸»è¡¨)</div>
            <p>æ¯ä¸€è¡Œä»£è¡¨ã€Œä¸€å ´æ¯”è³½ã€ã€‚é€™æ˜¯ <strong>Transformer</strong> çš„è¼¸å…¥åºåˆ—ä¾†æºã€‚</p>
            <table>
                <thead>
                    <tr>
                        <th class="key-column">Game_ID (PK)</th>
                        <th>Date</th>
                        <th>Player</th>
                        <th>PTS</th>
                        <th>Target_PTS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="key-column">002230001</td>
                        <td>2023-10-25</td>
                        <td>Curry</td>
                        <td>27</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td class="key-column">002230002</td>
                        <td>2023-10-27</td>
                        <td>Curry</td>
                        <td>41</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                </tbody>
            </table>
            <br>
            <small>ç‰¹æ€§ï¼šUnique (æ¯å ´æ¯”è³½åªæœ‰ä¸€ç­†)</small>
        </div>

        <div class="table-card">
            <div class="table-header header-shots">ğŸ¯ shots.csv (æ˜ç´°è¡¨)</div>
            <p>æ¯ä¸€è¡Œä»£è¡¨ã€Œä¸€æ¬¡å‡ºæ‰‹ã€ã€‚é€™æ˜¯ <strong>CNN</strong> ç¹ªè£½ç†±å€åœ–çš„åŸæ–™ã€‚</p>
            <table>
                <thead>
                    <tr>
                        <th class="key-column">Game_ID (FK)</th>
                        <th>LOC_X</th>
                        <th>LOC_Y</th>
                        <th>Made_Flag</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background-color: #f0f8ff;">
                        <td class="key-column">002230001</td>
                        <td>-10</td>
                        <td>25</td>
                        <td>1 (é€²)</td>
                    </tr>
                    <tr style="background-color: #f0f8ff;">
                        <td class="key-column">002230001</td>
                        <td>120</td>
                        <td>200</td>
                        <td>0 (æ²’é€²)</td>
                    </tr>
                    <tr style="background-color: #f0f8ff;">
                        <td class="key-column">002230001</td>
                        <td>0</td>
                        <td>0</td>
                        <td>1 (é€²)</td>
                    </tr>
                    <tr>
                        <td class="key-column">002230002</td>
                        <td>230</td>
                        <td>100</td>
                        <td>1 (é€²)</td>
                    </tr>
                </tbody>
            </table>
            <br>
            <small>ç‰¹æ€§ï¼šOne-to-Many (ä¸€å ´æ¯”è³½æœ‰å¤šç­†å‡ºæ‰‹)</small>
        </div>

    </div>

    <h2>3. å¯¦éš›æ‡‰ç”¨èˆ‰ä¾‹ (Example Flow)</h2>
    <div style="background: white; padding: 20px; border-radius: 8px; border-left: 5px solid #8e44ad;">
        <h3>è¨“ç·´æ™‚çš„æ¨¡å‹è¼¸å…¥ (Training Input)</h3>
        <p>ç•¶ä½ æƒ³é æ¸¬ <strong>Stephen Curry</strong> åœ¨ <code>2023-10-27</code> (Game 2) çš„è¡¨ç¾æ™‚ï¼š</p>
        <ol>
            <li><strong>Transformer è®€å–ï¼š</strong> å¾ <code>games.csv</code> è®€å– <code>2023-10-25</code> (Game 1) çš„æ•¸æ“š (27åˆ†)ã€‚</li>
            <li><strong>CNN è®€å–ï¼š</strong> 
                <ul>
                    <li>ç¨‹å¼æœƒå» <code>shots.csv</code> æœå°‹æ‰€æœ‰ <code>Game_ID = 002230001</code> çš„è³‡æ–™ã€‚</li>
                    <li>æ‰¾åˆ° 3 ç­†åº§æ¨™ï¼š<code>(-10, 25)</code>, <code>(120, 200)</code>, <code>(0, 0)</code>ã€‚</li>
                    <li>å³æ™‚å°‡é€™ 3 å€‹åº§æ¨™è½‰æ›æˆä¸€å¼µ <strong>224x224 çš„ç†±å€çŸ©é™£ (Tensor)</strong>ã€‚</li>
                </ul>
            </li>
            <li><strong>æ¨¡å‹é æ¸¬ï¼š</strong> çµåˆä¸Šè¿°å…©è€…ï¼Œé æ¸¬å‡º Game 2 çš„ç›®æ¨™åˆ†æ•¸ <strong>Target_PTS (å¯¦éš›æ˜¯ 41)</strong>ã€‚</li>
        </ol>
    </div>

</body>
</html>